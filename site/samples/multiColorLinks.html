<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover"/>
<link rel="stylesheet" href="/subpage.css">
<!-- Copyright 1998-2021 by Northwoods Software Corporation. -->
<title>Multi-color Links</title>
</head>

<body>
  <header>
    <nav class="nav">
  <ul class="nav-list">
    <li class="nav-list__item">
      <a class="nav-list__link " href="https://guillaume-l-p.com/">Accueil</a>
    </li>
    <li class="nav-list__item">
      <a class="nav-list__link " href="https://blog-guillaume-l-p.netlify.app/">Blogue</a>
    </li>
  </ul>
</nav>
    </header>
    <section>
      <h2 class="title">Diagrammes pour danser</h2>
    </section>



    <!-- * * * * * * * * * * * * * -->
    <!-- Start of GoJS sample code -->
    
    <script src="../release/go.js"></script>
    <div class="description">
    <script id="code">

  // Assume that a Link may have a  linkdata.colors  property that is an Array of CSS color strings.
  // Also assume that each Link has as many Shapes in it that are marked with  isPanelMain: true
  // as you want to get a color from the data.colors Array.
  function MultiColorLink() {
    go.Link.call(this);
  }
  go.Diagram.inherit(MultiColorLink, go.Link);

  MultiColorLink.prototype.makeGeometry = function() {
    var geo = go.Link.prototype.makeGeometry.call(this);
    var colors = this.data.colors;
    if (Array.isArray(colors) && colors.length > 0) {
      var paths = [];  // find all path Shapes
      this.elements.each(function(elt) {
        if (elt.isPanelMain && elt instanceof go.Shape) {
          paths.push(elt);
        }
      });
      var numcolors = Math.min(colors.length, paths.length);
      if (numcolors > 0) {
        var seclen = geo.flattenedTotalLength / numcolors;  // length of each color section
        for (var i = 0; i < paths.length; i++) {  // go through all path Shapes
          var shape = paths[i];
          if (i < numcolors) {
            shape.visible = true;  // make sure this Shape can be seen
            shape.stroke = colors[i];  // and assign a color
            if (i > 0) {  // and a stroke dash array so that it only draws the needed fraction
              shape.strokeDashArray = [0, i * seclen, seclen, 99999];
            }
          } else {  // unneeded Shapes are not visible
            shape.visible = false;
          }
        }
      }
    }
    return geo;
  }

  function init() {
    if (window.goSamples) goSamples();  // init for these samples -- you don't need to call this
    var $ = go.GraphObject.make;

    myDiagram =
      $(go.Diagram, "myDiagramDiv",
        {
          layout: $(go.ForceDirectedLayout),
          "undoManager.isEnabled": true
        });

    myDiagram.nodeTemplate =
      $(go.Node, "Auto",
        { fromSpot: go.Spot.AllSides, toSpot: go.Spot.AllSides },
        $(go.Shape,
          { fill: "white", strokeWidth: 0 },
          new go.Binding("fill", "color")),
        $(go.TextBlock,
          { margin: 12 },
          new go.Binding("text"))
      );

    function linkPath() {  // common styling for each colored section, each rendered by a different Shape
      return $(go.Shape, { isPanelMain: true, strokeWidth: 5 });
    }

    myDiagram.linkTemplate =
      $(MultiColorLink,
        {
          routing: go.Link.AvoidsNodes, corner: 10,
          relinkableFrom: true, relinkableTo: true,
          reshapable: true, resegmentable: true
        },
        linkPath(),  // this template can show at most 5 colors,
        linkPath(),  // one for each link path Shape
        linkPath(),
        linkPath(),
        linkPath()   // remove any unneeded path Shapes here, if you never need to show 5 colors at once in a single link
      );

    load();
  }



  
  // Show the diagram's model in JSON format
  function save() {
    document.getElementById("mySavedModel").value = myDiagram.model.toJson();
    myDiagram.isModified = false;
  }
  function load() {
    myDiagram.model = go.Model.fromJson(document.getElementById("mySavedModel").value);
  }
    window.addEventListener('DOMContentLoaded', init);
  </script>
    <div id="myDiagramDiv" style="border: solid 5px rgba(0, 0, 0, 0.16); width:100%; height:400px; background: #444"></div>

    <textarea id="mySavedModel" style="width:100%;height:250px">

      { "class": "go.GraphLinksModel",
  "nodeDataArray": [
{"key":1, "text":"Diagrammes", "color":"lightblue"},
{"key":2, "text":"Danse", "color":"orange"},
{"key":3, "text":"Carte mentale", "color":"lightgreen"},
{"key":4, "text":"Schéma", "color":"pink"},
{"key":5, "text":"Organigramme", "color":"gold"}
 ],
  "linkDataArray": [
{"from":1, "to":2, "colors":[ "red","orange","gold","green","blue" ]},
{"from":1, "to":3, "colors":[ "red","blue" ]},
{"from":1, "to":4, "colors":[ "purple","orange","green" ]},
{"from":4, "to":5, "colors":[ "fuchsia" ]},
{"from":5, "to":2}
 ]}
    </textarea>
  </div>
  <br>
<div class="description">
<p> <i>Diagrammes pour danser</i> est un projet utilisant des diagrammes pour faciliter la création artistique, créé en collaboration avec Mohammadreza Akrami.</p> 

<div class="accordion">
  <dl>
    <dt>
      <a href="#accordion1" aria-expanded="false" aria-controls="accordion1" class="accordion-title accordionTitle js-accordionTrigger">Danseurs participants</a>
    </dt>
    <dd class="accordion-content accordionItem is-collapsed" id="accordion1" aria-hidden="true">
      <p>
        <ul>
          <b>Performances</b>
          <br>
          <br>
        <li>Mohammadreza Akrami</li>
        <li>Xdzunúm Danae Trejo</li>
        <li>Guillaume Loslier-Pinard</li>
        <li>Hilde Ingeborg Sandvold</li>
        <li>Melissa McCracken</li>
        </ul>
        <br>
        <ul>
       <b>Ateliers</b> 
        <br>
        <br>

        <li>Les artistes participants à la résidence artistique 8 Days VII : Deanna Peters, Nicole Mion, Peter Trozstmer, Sarah Joy Stoker, Jacinte Armstrong, Alexandra Elliot, Shannon Cooney, Emma-Kate Guimond, Catherine Lavoie-Marcus, Andrew Tay, Thea Patterson, Yannick Desranleau, Chloe Lum, Hannah Levin McGrath, Morena Prats, Sara Hanley et Candice Pike. </li>

        </ul></p>
    </dd>
    <dt>
      <a href="#accordion2" aria-expanded="false" aria-controls="accordion2" class="accordion-title accordionTitle js-accordionTrigger">
        Photos</a>
    </dt>
    <dd class="accordion-content accordionItem is-collapsed" id="accordion2" aria-hidden="true">
<small>
De gauche à droite, de haut en bas :
<ol>
<li> Alexandra Elliot, (nom inconnu), Hannah Levin McGrath </li>
<li>Diagramme de deux participants</li>
<li>Xdzunúm Danae Trejo</li>
<li>Melissa McCracken</li>
</ol>
</small>
<br>

      <div class="image-mosaic">
        <div
          class="card card-tall card-wide"
      
          style="background-image: url('https://static.wixstatic.com/media/92e7b4_2e8f24db82ca419b8c71e251634b23dc~mv2_d_4032_3024_s_4_2.jpg/v1/fill/w_1576,h_1182,al_c,q_85,usm_0.66_1.00_0.01/92e7b4_2e8f24db82ca419b8c71e251634b23dc~mv2_d_4032_3024_s_4_2.webp')"
        >
      
      
      </div>
        
        <div
          class="card card-tall"
          style="background-image: url('https://static.wixstatic.com/media/92e7b4_ece44d41d5604e7da98f8fe910f31fa8~mv2_d_3024_4032_s_4_2.jpg/v1/fill/w_887,h_1182,al_c,q_85,usm_0.66_1.00_0.01/92e7b4_ece44d41d5604e7da98f8fe910f31fa8~mv2_d_3024_4032_s_4_2.webp')"
        ></div>
        <div
          class="card"
          style="background-image: url('https://static.wixstatic.com/media/92e7b4_0b27a344512b434fb614415407bf6d2d~mv2_d_3264_2448_s_4_2.jpg/v1/fill/w_1576,h_1182,al_c,q_85,usm_0.66_1.00_0.01/92e7b4_0b27a344512b434fb614415407bf6d2d~mv2_d_3264_2448_s_4_2.webp')"
        ></div>
        <div
          class="card"
          style="background-image: url('https://static.wixstatic.com/media/92e7b4_10d876588f9c49aa957d37e1b3b73d42~mv2_d_3264_2448_s_4_2.jpg/v1/fill/w_1576,h_1182,al_c,q_85,usm_0.66_1.00_0.01/92e7b4_10d876588f9c49aa957d37e1b3b73d42~mv2_d_3264_2448_s_4_2.webp')"
        ></div>
    
    
      </div>
   




<br>

    </dd>
    <dt>
      <a href="#accordion3" aria-expanded="false" aria-controls="accordion3" class="accordion-title accordionTitle js-accordionTrigger">
        Vidéos
      </a>
    </dt>
    <dd class="accordion-content accordionItem is-collapsed" id="accordion3" aria-hidden="true">
      <br>
      <iframe src="https://player.vimeo.com/video/264292502?h=87834eb04b" width="640" height="360" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
      <br>
      <iframe src="https://player.vimeo.com/video/264292376?h=eb561309b3" width="640" height="360" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>


    </dd>
  </dl>
</div>




    </div>
    <!-- * * * * * * * * * * * * * -->
    <!--  End of GoJS sample code  -->

</body>
<!--  This script is part of the gojs.net website, and is not needed to run the sample -->
<script src="subpage.js"></script>
<script src="../assets/js/goSamples.js"></script>
<script>
// forEach function
var forEach = function (array, callback, scope) {
    for (var i = 0; i < array.length; i++) {
        callback.call(scope, i, array[i]); // passes back stuff we need
    }
}

// select all slider parent div.tartist-tiny-slider
var sliders = document.querySelectorAll('.tartist-tiny-slider');

// chunk function to make groups for every slider's childrens
var chunk = function ( array, size ) {
    let arr = [];
    for ( let i = 0; i < array.length; i += size ) {
        let newSlicedArray = Array.prototype.slice.call( array, i, i + size );
        arr.push(newSlicedArray);
    }
    return arr;
}

// applying foreach function to the sliders
forEach(sliders, function (index, value) {

    //selecting childrens
    let childrens = value.querySelectorAll(".tartist-tiny-slider__item");

    //getting chunksize from the parent
    let chunkSize = value.dataset.chunksize;

    //making final arrays for the children with chunk size
    let final = chunk( childrens, parseInt(chunkSize) );

    //wrapping the chunks with div.wrap
    let newHTML = final.map( towrap => towrap.reduce( (acc, el) => (acc.appendChild(el),acc) , document.createElement('div') ) ).forEach( el => {
        el.className ="wrap";
        value.appendChild(el)
    })

    //initialize tiny slider    
    let slider = tns({
        container: value,
        items: 1,
        slideBy: "page",
        autoplay: false,
        autoplayButtonOutput: false,
        loop: true,
        mouseDrag: true,
        gutter: 20,
        controls: false,
        navPosition: "bottom",
        nav: true,
    });

});


//uses classList, setAttribute, and querySelectorAll
//if you want this to work in IE8/9 youll need to polyfill these
(function(){
	var d = document,
	accordionToggles = d.querySelectorAll('.js-accordionTrigger'),
	setAria,
	setAccordionAria,
	switchAccordion,
  touchSupported = ('ontouchstart' in window),
  pointerSupported = ('pointerdown' in window);
  
  skipClickDelay = function(e){
    e.preventDefault();
    e.target.click();
  }

		setAriaAttr = function(el, ariaType, newProperty){
		el.setAttribute(ariaType, newProperty);
	};
	setAccordionAria = function(el1, el2, expanded){
		switch(expanded) {
      case "true":
      	setAriaAttr(el1, 'aria-expanded', 'true');
      	setAriaAttr(el2, 'aria-hidden', 'false');
      	break;
      case "false":
      	setAriaAttr(el1, 'aria-expanded', 'false');
      	setAriaAttr(el2, 'aria-hidden', 'true');
      	break;
      default:
				break;
		}
	};
//function
switchAccordion = function(e) {
  console.log("triggered");
	e.preventDefault();
	var thisAnswer = e.target.parentNode.nextElementSibling;
	var thisQuestion = e.target;
	if(thisAnswer.classList.contains('is-collapsed')) {
		setAccordionAria(thisQuestion, thisAnswer, 'true');
	} else {
		setAccordionAria(thisQuestion, thisAnswer, 'false');
	}
  	thisQuestion.classList.toggle('is-collapsed');
  	thisQuestion.classList.toggle('is-expanded');
		thisAnswer.classList.toggle('is-collapsed');
		thisAnswer.classList.toggle('is-expanded');
 	
  	thisAnswer.classList.toggle('animateIn');
	};
	for (var i=0,len=accordionToggles.length; i<len; i++) {
		if(touchSupported) {
      accordionToggles[i].addEventListener('touchstart', skipClickDelay, false);
    }
    if(pointerSupported){
      accordionToggles[i].addEventListener('pointerdown', skipClickDelay, false);
    }
    accordionToggles[i].addEventListener('click', switchAccordion, false);
  }
})();



</script>
</html>
